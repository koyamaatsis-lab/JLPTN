<!DOCTYPE html>
<html lang="ja">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>JLPT Êº¢Â≠óÂ≠¶Áøí„Ç¢„Éó„É™</title>
    <script crossorigin src="https://unpkg.com/react@17/umd/react.production.min.js"></script>
    <script crossorigin src="https://unpkg.com/react-dom@17/umd/react-dom.production.min.js"></script>
    <script src="https://unpkg.com/@babel/standalone/babel.min.js"></script>
    <script src="https://cdn.tailwindcss.com"></script>
</head>
<body>
    <div id="root"></div>
    
    <script type="text/babel">
        const { useState } = React;

        function KanjiApp() {
          const [mode, setMode] = useState('menu');
          const [currentIndex, setCurrentIndex] = useState(0);
          const [selectedAnswer, setSelectedAnswer] = useState(null);
          const [showResult, setShowResult] = useState(false);
          const [score, setScore] = useState(0);
          const [quizCompleted, setQuizCompleted] = useState(false);
          const [wrongAnswers, setWrongAnswers] = useState([]);

          const vocabulary = [
            { kanji: "ÊÑèÂë≥", reading: "„ÅÑ„Åø", meaning: "meaning", vietnamese: "√Ω nghƒ©a" },
            { kanji: "Ê±∫ÊÑè", reading: "„Åë„Å§„ÅÑ", meaning: "decision; determination", vietnamese: "quy·∫øt t√¢m" },
            { kanji: "‰∏ÄÂÑÑÂÜÜ", reading: "„ÅÑ„Å°„Åä„Åè„Åà„Çì", meaning: "100 million yen", vietnamese: "100 tri·ªáu y√™n" },
            { kanji: "Ë®òÊÜ∂", reading: "„Åç„Åä„Åè", meaning: "memory", vietnamese: "k√Ω ·ª©c" },
            { kanji: "ÁöÆËÇâ", reading: "„Å≤„Å´„Åè", meaning: "irony; sarcasm", vietnamese: "m·ªâa mai, ch√¢m bi·∫øm" },
            { kanji: "ÁöÆËÜö", reading: "„Å≤„Åµ", meaning: "skin", vietnamese: "da" },
            { kanji: "ÂΩºÂ•≥", reading: "„Åã„ÅÆ„Åò„Çá", meaning: "she; girlfriend", vietnamese: "c√¥ ·∫•y; b·∫°n g√°i" },
            { kanji: "ÂΩº", reading: "„Åã„Çå", meaning: "he", vietnamese: "anh ·∫•y" },
            { kanji: "ÂΩºÊ∞è", reading: "„Åã„Çå„Åó", meaning: "boyfriend", vietnamese: "b·∫°n trai" },
            { kanji: "Ê≥¢", reading: "„Å™„Åø", meaning: "wave", vietnamese: "s√≥ng" },
            { kanji: "Ê≥¢Êµ™", reading: "„ÅØ„Çç„ÅÜ", meaning: "waves; billows", vietnamese: "s√≥ng l·ªõn" },
            { kanji: "Ê≥¢Âèä", reading: "„ÅØ„Åç„ÇÖ„ÅÜ", meaning: "ripple effect; spread", vietnamese: "lan r·ªông" },
            { kanji: "ÊîØÈÖç‰∫∫", reading: "„Åó„ÅØ„ÅÑ„Å´„Çì", meaning: "manager", vietnamese: "qu·∫£n l√Ω" },
            { kanji: "ÊîØÂá∫", reading: "„Åó„Åó„ÇÖ„Å§", meaning: "expense; expenditure", vietnamese: "chi ti√™u" },
            { kanji: "ÊîØÊåÅ", reading: "„Åó„Åò", meaning: "support", vietnamese: "·ªßng h·ªô" },
            { kanji: "ÊîØ„Åà„Çã", reading: "„Åï„Åï„Åà„Çã", meaning: "support; hold up", vietnamese: "n√¢ng ƒë·ª°" },
            { kanji: "ÁâπÊäÄ", reading: "„Å®„Åè„Åé", meaning: "special skill", vietnamese: "s·ªü tr∆∞·ªùng" },
            { kanji: "ÊäÄË°ì", reading: "„Åé„Åò„ÇÖ„Å§", meaning: "technology; skill", vietnamese: "k·ªπ thu·∫≠t" },
            { kanji: "Êûù", reading: "„Åà„Å†", meaning: "branch", vietnamese: "c√†nh c√¢y" },
            { kanji: "ÊûùË±Ü", reading: "„Åà„Å†„Åæ„ÇÅ", meaning: "edamame", vietnamese: "ƒë·∫≠u n√†nh non" },
            { kanji: "Ê±Ç„ÇÅ„Çã", reading: "„ÇÇ„Å®„ÇÅ„Çã", meaning: "request; seek", vietnamese: "t√¨m ki·∫øm; y√™u c·∫ßu" },
            { kanji: "Ë´ãÊ±Ç„Åô„Çã", reading: "„Åõ„ÅÑ„Åç„ÇÖ„ÅÜ„Åô„Çã", meaning: "claim; bill", vietnamese: "y√™u c·∫ßu thanh to√°n" },
            { kanji: "Ê±ÇËÅ∑‰∏≠", reading: "„Åç„ÇÖ„ÅÜ„Åó„Çá„Åè„Å°„ÇÖ„ÅÜ", meaning: "job hunting", vietnamese: "ƒëang t√¨m vi·ªác" },
            { kanji: "Ê±Ç‰∫∫", reading: "„Åç„ÇÖ„ÅÜ„Åò„Çì", meaning: "job offer; recruitment", vietnamese: "tuy·ªÉn d·ª•ng" },
            { kanji: "ËøΩÊ±Ç„Åô„Çã", reading: "„Å§„ÅÑ„Åç„ÇÖ„ÅÜ„Åô„Çã", meaning: "pursue", vietnamese: "m∆∞u c·∫ßu" },
            { kanji: "ÁêÉÊäÄ", reading: "„Åç„ÇÖ„ÅÜ„Åé", meaning: "ball games", vietnamese: "th·ªÉ thao b√≥ng" },
            { kanji: "Âú∞ÁêÉÂÑÄ", reading: "„Å°„Åç„ÇÖ„ÅÜ„Åé", meaning: "globe", vietnamese: "qu·∫£ ƒë·ªãa c·∫ßu" },
            { kanji: "ÈáéÁêÉ", reading: "„ÇÑ„Åç„ÇÖ„ÅÜ", meaning: "baseball", vietnamese: "b√≥ng ch√†y" },
            { kanji: "Êïë„ÅÜ", reading: "„Åô„Åè„ÅÜ", meaning: "save; rescue", vietnamese: "c·ª©u" },
            { kanji: "ÊïëÊÄ•Ëªä", reading: "„Åç„ÇÖ„ÅÜ„Åç„ÇÖ„ÅÜ„Åó„ÇÉ", meaning: "ambulance", vietnamese: "xe c·∫•p c·ª©u" },
            { kanji: "ÊïëÂä©„Åô„Çã", reading: "„Åç„ÇÖ„ÅÜ„Åò„Çá„Åô„Çã", meaning: "rescue", vietnamese: "c·ª©u h·ªô" },
            { kanji: "ÊïëÊÄ•", reading: "„Åç„ÇÖ„ÅÜ„Åç„ÇÖ„ÅÜ", meaning: "emergency aid", vietnamese: "c·∫•p c·ª©u" },
            { kanji: "Âèä„Å∂", reading: "„Åä„Çà„Å∂", meaning: "reach; extend to", vietnamese: "lan t·ªõi; ƒë·∫°t t·ªõi" },
            { kanji: "Âèä„Åº„Åô", reading: "„Åä„Çà„Åº„Åô", meaning: "exert; cause (effect)", vietnamese: "g√¢y ·∫£nh h∆∞·ªüng" },
            { kanji: "ÊôÆÂèä„Åô„Çã", reading: "„Åµ„Åç„ÇÖ„ÅÜ„Åô„Çã", meaning: "spread; become widespread", vietnamese: "ph·ªï c·∫≠p" },
            { kanji: "ÂàùÁ¥ö", reading: "„Åó„Çá„Åç„ÇÖ„ÅÜ", meaning: "beginner level", vietnamese: "s∆° c·∫•p" },
            { kanji: "È´òÁ¥ö", reading: "„Åì„ÅÜ„Åç„ÇÖ„ÅÜ", meaning: "high-class; advanced", vietnamese: "cao c·∫•p" },
            { kanji: "‰∏≠Á¥ö", reading: "„Å°„ÇÖ„ÅÜ„Åç„ÇÖ„ÅÜ", meaning: "intermediate", vietnamese: "trung c·∫•p" },
            { kanji: "ÂêåÁ¥öÁîü", reading: "„Å©„ÅÜ„Åç„ÇÖ„ÅÜ„Åõ„ÅÑ", meaning: "classmate", vietnamese: "b·∫°n c√πng l·ªõp" },
            { kanji: "Âê∏„ÅÜ", reading: "„Åô„ÅÜ", meaning: "smoke; inhale", vietnamese: "h√∫t; h√≠t" },
            { kanji: "Ê∑±ÂëºÂê∏", reading: "„Åó„Çì„Åì„Åç„ÇÖ„ÅÜ", meaning: "deep breath", vietnamese: "h√≠t th·ªü s√¢u" },
            { kanji: "Âê∏„ÅÑÂèñ„Çã", reading: "„Åô„ÅÑ„Å®„Çã", meaning: "suck up; absorb", vietnamese: "h·∫•p th·ª•" },
            { kanji: "Âê∏„ÅÑËæº„ÇÄ", reading: "„Åô„ÅÑ„Åì„ÇÄ", meaning: "inhale", vietnamese: "h√≠t v√†o" },
            { kanji: "ËâØ„ÅÑ", reading: "„Çà„ÅÑ", meaning: "good", vietnamese: "t·ªët" },
            { kanji: "ËâØÂøÉÁöÑ„Å™", reading: "„Çä„Çá„ÅÜ„Åó„Çì„Å¶„Åç„Å™", meaning: "reasonable; fair", vietnamese: "h·ª£p l√Ω; ph·∫£i chƒÉng" },
            { kanji: "Â®ò", reading: "„ÇÄ„Åô„ÇÅ", meaning: "daughter", vietnamese: "con g√°i" },
            { kanji: "Áãº", reading: "„Åä„Åä„Åã„Åø", meaning: "wolf", vietnamese: "ch√≥ s√≥i" }
          ];

          const generateQuizOptions = (correctIndex) => {
            const options = [vocabulary[correctIndex].reading];
            const usedIndices = [correctIndex];
            
            while (options.length < 4) {
              const randomIndex = Math.floor(Math.random() * vocabulary.length);
              if (!usedIndices.includes(randomIndex)) {
                options.push(vocabulary[randomIndex].reading);
                usedIndices.push(randomIndex);
              }
            }
            
            return options.sort(() => Math.random() - 0.5);
          };

          const [quizOptions] = useState(() => 
            vocabulary.map((_, index) => generateQuizOptions(index))
          );

          const startMode = (selectedMode) => {
            setMode(selectedMode);
            setCurrentIndex(0);
            setSelectedAnswer(null);
            setShowResult(false);
            setScore(0);
            setQuizCompleted(false);
            setWrongAnswers([]);
          };

          const handleQuizAnswer = (answer) => {
            setSelectedAnswer(answer);
            setShowResult(true);
            
            const isCorrect = answer === vocabulary[currentIndex].reading;
            
            if (isCorrect) {
              setScore(score + 1);
            } else {
              setWrongAnswers([...wrongAnswers, currentIndex]);
            }
          };

          const handleQuizNext = () => {
            if (currentIndex < vocabulary.length - 1) {
              setCurrentIndex(currentIndex + 1);
              setSelectedAnswer(null);
              setShowResult(false);
            } else {
              setQuizCompleted(true);
            }
          };

          if (mode === 'menu') {
            return (
              <div className="min-h-screen bg-gradient-to-br from-blue-50 to-indigo-100 p-4 flex items-center justify-center">
                <div className="max-w-2xl w-full">
                  <div className="text-center mb-8">
                    <h1 className="text-4xl font-bold text-blue-800 mb-2">JLPT</h1>
                    <h2 className="text-3xl font-bold text-indigo-600 mb-4">„Åã„Çì„Åò„Åå„Åè„Åó„ÇÖ„ÅÜ</h2>
                    <p className="text-gray-600">{vocabulary.length}„Åì„ÅÆ„Åü„Çì„Åî„Çí„Åæ„Å™„Åº„ÅÜÔºÅ</p>
                  </div>

                  <div className="grid md:grid-cols-2 gap-6">
                    <button
                      onClick={() => startMode('study')}
                      className="bg-white p-8 rounded-2xl shadow-lg hover:shadow-xl transition-all transform hover:-translate-y-1"
                    >
                      <div className="text-center">
                        <div className="text-6xl mb-4">üìñ</div>
                        <h3 className="text-2xl font-bold text-gray-800 mb-2">„Åå„Åè„Åó„ÇÖ„ÅÜ„É¢„Éº„Éâ</h3>
                        <p className="text-gray-600">„Åã„Çì„Åò„ÅÆ„Çà„Åø„Åã„Åü„Å®„ÅÑ„Åø„Çí„Åø„Çã</p>
                      </div>
                    </button>

                    <button
                      onClick={() => startMode('quiz')}
                      className="bg-white p-8 rounded-2xl shadow-lg hover:shadow-xl transition-all transform hover:-translate-y-1"
                    >
                      <div className="text-center">
                        <div className="text-6xl mb-4">üß†</div>
                        <h3 className="text-2xl font-bold text-gray-800 mb-2">„ÇØ„Ç§„Ç∫„É¢„Éº„Éâ</h3>
                        <p className="text-gray-600">„Åã„Çì„Åò„ÅÆ„ÇÇ„Çì„Å†„ÅÑ„Å´„Åì„Åü„Åà„Çã</p>
                      </div>
                    </button>
                  </div>
                </div>
              </div>
            );
          }

          if (mode === 'study') {
            const current = vocabulary[currentIndex];
            
            return (
              <div className="min-h-screen bg-gradient-to-br from-blue-50 to-indigo-100 p-4">
                <div className="max-w-3xl mx-auto">
                  <div className="mb-4">
                    <button
                      onClick={() => setMode('menu')}
                      className="px-4 py-2 bg-white rounded-lg shadow hover:shadow-md transition-all"
                    >
                      ‚Üê „É°„Éã„É•„Éº„Å´„ÇÇ„Å©„Çã
                    </button>
                  </div>

                  <div className="bg-white rounded-2xl shadow-lg p-8">
                    <div className="text-center mb-6">
                      <div className="flex justify-between items-center mb-4">
                        <span className="text-sm text-gray-600">„Åå„Åè„Åó„ÇÖ„ÅÜ„É¢„Éº„Éâ</span>
                        <span className="text-sm font-bold text-indigo-600">
                          {currentIndex + 1} / {vocabulary.length}
                        </span>
                      </div>
                      <div className="w-full bg-gray-200 rounded-full h-2 mb-6">
                        <div
                          className="bg-indigo-600 h-2 rounded-full transition-all"
                          style={{width: ((currentIndex + 1) / vocabulary.length * 100) + '%'}}
                        />
                      </div>
                    </div>

                    <div className="text-center mb-8">
                      <h2 className="text-6xl font-bold text-indigo-600 mb-8">{current.kanji}</h2>
                      
                      <div className="bg-blue-50 p-6 rounded-xl mb-4">
                        <p className="text-gray-600 text-sm mb-2">„Çà„Åø„Åã„Åü</p>
                        <p className="text-3xl font-bold text-gray-800">{current.reading}</p>
                      </div>

                      <div className="bg-green-50 p-6 rounded-xl mb-4">
                        <p className="text-gray-600 text-sm mb-2">English</p>
                        <p className="text-xl text-gray-800">{current.meaning}</p>
                      </div>

                      <div className="bg-purple-50 p-6 rounded-xl">
                        <p className="text-gray-600 text-sm mb-2">Ti·∫øng Vi·ªát</p>
                        <p className="text-xl text-gray-800">{current.vietnamese}</p>
                      </div>
                    </div>

                    <div className="flex gap-4">
                      <button
                        onClick={() => currentIndex > 0 && setCurrentIndex(currentIndex - 1)}
                        disabled={currentIndex === 0}
                        className={'flex-1 py-3 rounded-lg font-bold transition-all ' + (currentIndex === 0 ? 'bg-gray-200 text-gray-400 cursor-not-allowed' : 'bg-indigo-600 text-white hover:bg-indigo-700')}
                      >
                        ‚Üê „Åæ„Åà„Å∏
                      </button>
                      
                      <button
                        onClick={() => currentIndex < vocabulary.length - 1 && setCurrentIndex(currentIndex + 1)}
                        disabled={currentIndex === vocabulary.length - 1}
                        className={'flex-1 py-3 rounded-lg font-bold transition-all ' + (currentIndex === vocabulary.length - 1 ? 'bg-gray-200 text-gray-400 cursor-not-allowed' : 'bg-indigo-600 text-white hover:bg-indigo-700')}
                      >
                        „Å§„Åé„Å∏ ‚Üí
                      </button>
                    </div>
                  </div>
                </div>
              </div>
            );
          }

          if (quizCompleted) {
            const percentage = Math.round((score / vocabulary.length) * 100);
            
            return (
              <div className="min-h-screen bg-gradient-to-br from-blue-50 to-indigo-100 p-4">
                <div className="max-w-2xl mx-auto bg-white rounded-2xl shadow-lg p-8">
                  <div className="text-center">
                    <div className="text-8xl mb-4">üèÜ</div>
                    <h2 className="text-3xl font-bold mb-4 text-gray-800">„ÇØ„Ç§„Ç∫„Åã„Çì„Çä„Çá„ÅÜÔºÅ</h2>
                    <div className="mb-6">
                      <p className="text-6xl font-bold text-indigo-600 mb-2">
                        {score}/{vocabulary.length}
                      </p>
                      <p className="text-2xl text-gray-600">„Åõ„ÅÑ„Åã„ÅÑ„Çä„Å§: {percentage}%</p>
                    </div>

                    {wrongAnswers.length > 0 && (
                      <div className="mb-6 p-4 bg-red-50 rounded-lg">
                        <h3 className="font-bold mb-2 text-red-800">„Åæ„Å°„Åå„Åà„Åü„ÇÇ„Çì„Å†„ÅÑ</h3>
                        <div className="space-y-2">
                          {wrongAnswers.map((index) => (
                            <div key={index} className="text-left p-3 bg-white rounded">
                              <div className="font-bold text-indigo-600 text-xl mb-1">{vocabulary[index].kanji}</div>
                              <div className="text-gray-700">„Çà„Åø„Åã„Åü: {vocabulary[index].reading}</div>
                              <div className="text-sm text-gray-600">{vocabulary[index].vietnamese}</div>
                            </div>
                          ))}
                        </div>
                      </div>
                    )}

                    <div className="flex gap-4 justify-center">
                      <button
                        onClick={() => {
                          setCurrentIndex(0);
                          setSelectedAnswer(null);
                          setShowResult(false);
                          setScore(0);
                          setQuizCompleted(false);
                          setWrongAnswers([]);
                        }}
                        className="px-6 py-3 bg-indigo-600 text-white rounded-lg hover:bg-indigo-700"
                      >
                        üîÑ „ÇÇ„ÅÜ„ÅÑ„Å°„Å©
                      </button>
                      <button
                        onClick={() => setMode('menu')}
                        className="px-6 py-3 bg-gray-600 text-white rounded-lg hover:bg-gray-700"
                      >
                        „É°„Éã„É•„Éº„Å∏
                      </button>
                    </div>
                  </div>
                </div>
              </div>
            );
          }

          const current = vocabulary[currentIndex];
          const options = quizOptions[currentIndex];
          const isCorrect = selectedAnswer === current.reading;

          return (
            <div className="min-h-screen bg-gradient-to-br from-blue-50 to-indigo-100 p-4">
              <div className="max-w-3xl mx-auto">
                <div className="mb-4">
                  <button
                    onClick={() => setMode('menu')}
                    className="px-4 py-2 bg-white rounded-lg shadow hover:shadow-md transition-all"
                  >
                    ‚Üê „É°„Éã„É•„Éº„Å´„ÇÇ„Å©„Çã
                  </button>
                </div>

                <div className="bg-white rounded-2xl shadow-lg p-8">
                  <div className="mb-6">
                    <div className="flex justify-between items-center mb-4">
                      <span className="text-sm text-gray-600">„ÇØ„Ç§„Ç∫„É¢„Éº„Éâ</span>
                      <span className="text-sm font-bold text-indigo-600">
                        „ÇÇ„Çì„Å†„ÅÑ {currentIndex + 1} / {vocabulary.length}
                      </span>
                    </div>
                    <div className="w-full bg-gray-200 rounded-full h-2">
                      <div
                        className="bg-indigo-600 h-2 rounded-full transition-all"
                        style={{width: ((currentIndex + 1) / vocabulary.length * 100) + '%'}}
                      />
                    </div>
                  </div>

                  <div className="text-center mb-8">
                    <h2 className="text-7xl font-bold text-indigo-600 mb-6">{current.kanji}</h2>
                    <p className="text-xl text-gray-600">„Åì„ÅÆ„Çà„Åø„Åã„Åü„ÅØ„Å™„Çì„Åß„Åô„ÅãÔºü</p>
                  </div>

                  <div className="space-y-3 mb-6">
                    {options.map((option, index) => (
                      <button
                        key={index}
                        onClick={() => !showResult && handleQuizAnswer(option)}
                        disabled={showResult}
                        className={'w-full p-4 text-left rounded-lg border-2 transition-all ' + (
                          showResult
                            ? option === current.reading
                              ? 'bg-green-100 border-green-500'
                              : selectedAnswer === option
                              ? 'bg-red-100 border-red-500'
                              : 'bg-gray-50 border-gray-200'
                            : selectedAnswer === option
                            ? 'bg-indigo-100 border-indigo-500'
                            : 'bg-white border-gray-300 hover:border-indigo-300'
                        )}
                      >
                        <div className="flex items-center gap-3">
                          <span className="flex-shrink-0 w-8 h-8 rounded-full bg-gray-200 flex items-center justify-center font-bold">
                            {index + 1}
                          </span>
                          <span className="text-xl">{option}</span>
                          {showResult && option === current.reading && (
                            <span className="ml-auto text-2xl">‚úì</span>
                          )}
                          {showResult && selectedAnswer === option && option !== current.reading && (
                            <span className="ml-auto text-2xl">‚úó</span>
                          )}
                        </div>
                      </button>
                    ))}
                  </div>

                  {showResult && (
                    <div className={'p-4 rounded-lg mb-6 ' + (isCorrect ? 'bg-green-50' : 'bg-red-50')}>
                      <p className="font-bold mb-2 text-lg">
                        {isCorrect ? '‚úì „Åõ„ÅÑ„Åã„ÅÑÔºÅ' : '‚úó „Åæ„Å°„Åå„ÅÑ'}
                      </p>
                      <div className="text-gray-700">
                        <p className="mb-1">English: {current.meaning}</p>
                        <p>Ti·∫øng Vi·ªát: {current.vietnamese}</p>
                      </div>
                    </div>
                  )}

                  {showResult && (
                    <button
                      onClick={handleQuizNext}
                      className="w-full py-3 bg-indigo-600 text-white rounded-lg font-bold hover:bg-indigo-700"
                    >
                      {currentIndex < vocabulary.length - 1 ? '„Å§„Åé„ÅÆ„ÇÇ„Çì„Å†„ÅÑ„Å∏ ‚Üí' : '„Åë„Å£„Åã„Çí„Åø„Çã'}
                    </button>
                  )}
                </div>
              </div>
            </div>
          );
        }

        ReactDOM.render(<KanjiApp />, document.getElementById('root'));
    </script>
</body>
</html>