<!DOCTYPE html>
<html lang="ja">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>JLPT Êº¢Â≠óÂ≠¶Áøí„Ç¢„Éó„É™</title>
    <script crossorigin src="https://unpkg.com/react@17/umd/react.production.min.js"></script>
    <script crossorigin src="https://unpkg.com/react-dom@17/umd/react-dom.production.min.js"></script>
    <script src="https://unpkg.com/@babel/standalone/babel.min.js"></script>
    <script src="https://cdn.tailwindcss.com"></script>
</head>
<body>
    <div id="root"></div>
    
    <script type="text/babel">
        const { useState } = React;

        function KanjiApp() {
          const [mode, setMode] = useState('menu');
          const [currentIndex, setCurrentIndex] = useState(0);
          const [selectedAnswer, setSelectedAnswer] = useState(null);
          const [showResult, setShowResult] = useState(false);
          const [score, setScore] = useState(0);
          const [quizCompleted, setQuizCompleted] = useState(false);
          const [wrongAnswers, setWrongAnswers] = useState([]);

          const vocabulary = [
            { kanji: "Ëæ≤ÂÆ∂", reading: "„ÅÆ„ÅÜ„Åã", meaning: "farmer", vietnamese: "n√¥ng gia" },
            { kanji: "Ëæ≤Ê•≠", reading: "„ÅÆ„ÅÜ„Åé„Çá„ÅÜ", meaning: "agriculture", vietnamese: "n√¥ng nghi·ªáp" },
            { kanji: "Ë±äÂØå", reading: "„Åª„ÅÜ„Åµ", meaning: "abundant", vietnamese: "r·∫•t nhi·ªÅu, phong ph√∫" },
            { kanji: "Ë±ä„Åã", reading: "„ÇÜ„Åü„Åã", meaning: "rich/abundant", vietnamese: "phong ph√∫" },
            { kanji: "Ë±ÜËÖê", reading: "„Å®„ÅÜ„Åµ", meaning: "tofu", vietnamese: "ƒë·∫≠u ph·ª•" },
            { kanji: "Â§ßË±Ü", reading: "„Å†„ÅÑ„Åö", meaning: "soybean", vietnamese: "ƒë·∫≠u n√†nh" },
            { kanji: "„Ç≥„Éº„Éí„ÉºË±Ü", reading: "„Ç≥„Éº„Éí„Éº„Åæ„ÇÅ", meaning: "coffee bean", vietnamese: "h·∫°t c√† ph√™" },
            { kanji: "Áôª„Çã", reading: "„ÅÆ„Åº„Çã", meaning: "climb", vietnamese: "leo" },
            { kanji: "ÁôªÈå≤", reading: "„Å®„ÅÜ„Çç„Åè", meaning: "register", vietnamese: "ƒëƒÉng k√Ω" },
            { kanji: "ÁôªÂ±±", reading: "„Å®„Åñ„Çì", meaning: "mountain climbing", vietnamese: "leo n√∫i" },
            { kanji: "Âñú„Å∂", reading: "„Çà„Çç„Åì„Å∂", meaning: "be pleased", vietnamese: "vui" },
            { kanji: "Âñú„Å≥", reading: "„Çà„Çç„Åì„Å≥", meaning: "joy", vietnamese: "ni·ªÅm vui" },
            { kanji: "Â§ßÂñú„Å≥", reading: "„Åä„Åä„Çà„Çç„Åì„Å≥", meaning: "great joy", vietnamese: "r·∫•t vui m·ª´ng" },
            { kanji: "Ëßí", reading: "„Å§„ÅÆ", meaning: "horn", vietnamese: "s·ª´ng" },
            { kanji: "ËßíÂ∫¶", reading: "„Åã„Åè„Å©", meaning: "angle degree", vietnamese: "g√≥c ƒë·ªô" },
            { kanji: "Ëß£„Åè", reading: "„Å®„Åè", meaning: "solve", vietnamese: "gi·∫£i ƒë√°p" },
            { kanji: "Ëß£Ê±∫„Åô„Çã", reading: "„Åã„ÅÑ„Åë„Å§„Åô„Çã", meaning: "solve/settle", vietnamese: "gi·∫£i quy·∫øt" },
            { kanji: "ÁêÜËß£", reading: "„Çä„Åã„ÅÑ", meaning: "understanding", vietnamese: "hi·ªÉu" },
            { kanji: "Ëß£„Åë„Çã", reading: "„Å®„Åë„Çã", meaning: "be solved", vietnamese: "ƒë∆∞·ª£c gi·∫£i" },
            { kanji: "Ëß¶„Çå„Çã", reading: "„Åµ„Çå„Çã", meaning: "touch", vietnamese: "ch·∫°m v√†o" },
            { kanji: "Ëß¶„Çã", reading: "„Åï„Çè„Çã", meaning: "touch (by hand)", vietnamese: "s·ªù" },
            { kanji: "ÊÑüËß¶", reading: "„Åã„Çì„Åó„Çá„Åè", meaning: "feeling to touch", vietnamese: "c·∫£m gi√°c" },
            { kanji: "ÊóßÂºè", reading: "„Åç„ÇÖ„ÅÜ„Åó„Åç", meaning: "old style", vietnamese: "c·ªï h·ªß" },
            { kanji: "ÊóßÂèã", reading: "„Åç„ÇÖ„ÅÜ„ÇÜ„ÅÜ", meaning: "old friend", vietnamese: "b·∫°n c≈©" },
            { kanji: "Ê≠£Êúà", reading: "„Åó„Çá„ÅÜ„Åå„Å§", meaning: "new year (JP)", vietnamese: "t·∫øt" },
            { kanji: "ËÇ≤ÂÖê", reading: "„ÅÑ„Åè„Åò", meaning: "childcare", vietnamese: "vi·ªác nu√¥i d·∫°y tr·∫ª" },
            { kanji: "Â∞èÂÖêÁßë", reading: "„Åó„Çá„ÅÜ„Å´„Åã", meaning: "pediatrics", vietnamese: "khoa nhi" },
            { kanji: "Èô•„Çã", reading: "„Åä„Å°„ÅÑ„Çã", meaning: "fall into", vietnamese: "r∆°i v√†o" },
            { kanji: "Ê¨†Èô•", reading: "„Åë„Å£„Åã„Çì", meaning: "defect", vietnamese: "l·ªói" },
            { kanji: "Èô•„Çå„Çã", reading: "„Åä„Å®„Åó„ÅÑ„Çå„Çã", meaning: "trap", vietnamese: "g√†i b·∫´y" },
            { kanji: "Êà∏Á±ç", reading: "„Åì„Åõ„Åç", meaning: "family register", vietnamese: "h·ªô t·ªãch" },
            { kanji: "‰∫ïÊà∏", reading: "„ÅÑ„Å©", meaning: "well", vietnamese: "n∆∞·ªõc gi·∫øng" },
            { kanji: "‰∏ÄÊà∏Âª∫„Å¶", reading: "„ÅÑ„Å£„Åì„Å†„Å¶", meaning: "detached house", vietnamese: "nh√† ri√™ng" },
            { kanji: "Êàª„Çã", reading: "„ÇÇ„Å©„Çã", meaning: "return", vietnamese: "quay tr·ªü l·∫°i" },
            { kanji: "Êàª„Åô", reading: "„ÇÇ„Å©„Åô", meaning: "return (something)", vietnamese: "tr·∫£ l·∫°i" },
            { kanji: "Êâï„ÅÑÊàª„Åô", reading: "„ÅØ„Çâ„ÅÑ„ÇÇ„Å©„Åô", meaning: "refund", vietnamese: "ho√†n ti·ªÅn" },
            { kanji: "Ê∂ôÂ£∞", reading: "„Å™„Åø„Å†„Åî„Åà", meaning: "tearful voice", vietnamese: "gi·ªçng n√≥i s·∫Øp kh√≥c" },
            { kanji: "Ê∂ô„Åê„ÇÄ", reading: "„Å™„Åø„Å†„Åê„ÇÄ", meaning: "be teary", vietnamese: "tr·ª±c r∆°i l·ªá" },
            { kanji: "ÈùûÂ∏∏", reading: "„Å≤„Åò„Çá„ÅÜ", meaning: "emergency", vietnamese: "b·∫•t th∆∞·ªùng" },
            { kanji: "ÈùûÈõ£", reading: "„Å≤„Å™„Çì", meaning: "criticism", vietnamese: "ch·ªâ tr√≠ch" },
            { kanji: "ÈùûÂ∏∏„Å´", reading: "„Å≤„Åò„Çá„ÅÜ„Å´", meaning: "very", vietnamese: "r·∫•t" },
            { kanji: "ÊÇ≤„Åó„ÅÑ", reading: "„Åã„Å™„Åó„ÅÑ", meaning: "sad", vietnamese: "bu·ªìn" },
            { kanji: "ÊÇ≤„Åó„ÇÄ", reading: "„Åã„Å™„Åó„ÇÄ", meaning: "grieve", vietnamese: "ƒëau kh·ªï" },
            { kanji: "ÊÇ≤Âäá", reading: "„Å≤„Åí„Åç", meaning: "tragedy", vietnamese: "bi k·ªãch" },
            { kanji: "ÊúâÁΩ™", reading: "„ÇÜ„ÅÜ„Åñ„ÅÑ", meaning: "guilty", vietnamese: "c√≥ t·ªôi" },
            { kanji: "ÁäØÁΩ™", reading: "„ÅØ„Çì„Åñ„ÅÑ", meaning: "crime", vietnamese: "ph·∫°m t·ªôi" }
          ];

          const generateQuizOptions = (correctIndex) => {
            const options = [vocabulary[correctIndex].reading];
            const usedIndices = [correctIndex];
            
            while (options.length < 4) {
              const randomIndex = Math.floor(Math.random() * vocabulary.length);
              if (!usedIndices.includes(randomIndex)) {
                options.push(vocabulary[randomIndex].reading);
                usedIndices.push(randomIndex);
              }
            }
            
            return options.sort(() => Math.random() - 0.5);
          };

          const [quizOptions] = useState(() => 
            vocabulary.map((_, index) => generateQuizOptions(index))
          );

          const startMode = (selectedMode) => {
            setMode(selectedMode);
            setCurrentIndex(0);
            setSelectedAnswer(null);
            setShowResult(false);
            setScore(0);
            setQuizCompleted(false);
            setWrongAnswers([]);
          };

          const handleQuizAnswer = (answer) => {
            setSelectedAnswer(answer);
            setShowResult(true);
            
            const isCorrect = answer === vocabulary[currentIndex].reading;
            
            if (isCorrect) {
              setScore(score + 1);
            } else {
              setWrongAnswers([...wrongAnswers, currentIndex]);
            }
          };

          const handleQuizNext = () => {
            if (currentIndex < vocabulary.length - 1) {
              setCurrentIndex(currentIndex + 1);
              setSelectedAnswer(null);
              setShowResult(false);
            } else {
              setQuizCompleted(true);
            }
          };

          if (mode === 'menu') {
            return (
              <div className="min-h-screen bg-gradient-to-br from-blue-50 to-indigo-100 p-4 flex items-center justify-center">
                <div className="max-w-2xl w-full">
                  <div className="text-center mb-8">
                    <h1 className="text-4xl font-bold text-blue-800 mb-2">JLPT</h1>
                    <h2 className="text-3xl font-bold text-indigo-600 mb-4">„Åã„Çì„Åò„Åå„Åè„Åó„ÇÖ„ÅÜ</h2>
                    <p className="text-gray-600">{vocabulary.length}„Åì„ÅÆ„Åü„Çì„Åî„Çí„Åæ„Å™„Åº„ÅÜÔºÅ</p>
                    <p className="text-sm text-gray-500 mt-2">„Çä„ÇÖ„ÅÜ„Åå„Åè„Åõ„ÅÑ„ÅÆ„Åø„Å™„Åï„Çì„ÄÅ„Åå„Çì„Å∞„Çä„Åæ„Åó„Çá„ÅÜÔºÅ</p>
                  </div>

                  <div className="grid md:grid-cols-2 gap-6">
                    <button
                      onClick={() => startMode('study')}
                      className="bg-white p-8 rounded-2xl shadow-lg hover:shadow-xl transition-all transform hover:-translate-y-1"
                    >
                      <div className="text-center">
                        <div className="text-6xl mb-4">üìñ</div>
                        <h3 className="text-2xl font-bold text-gray-800 mb-2">„Åå„Åè„Åó„ÇÖ„ÅÜ„É¢„Éº„Éâ</h3>
                        <p className="text-gray-600">„Åã„Çì„Åò„ÅÆ„Çà„Åø„Åã„Åü„Å®„ÅÑ„Åø„Çí„Åø„Çã</p>
                      </div>
                    </button>

                    <button
                      onClick={() => startMode('quiz')}
                      className="bg-white p-8 rounded-2xl shadow-lg hover:shadow-xl transition-all transform hover:-translate-y-1"
                    >
                      <div className="text-center">
                        <div className="text-6xl mb-4">üß†</div>
                        <h3 className="text-2xl font-bold text-gray-800 mb-2">„ÇØ„Ç§„Ç∫„É¢„Éº„Éâ</h3>
                        <p className="text-gray-600">„Åã„Çì„Åò„ÅÆ„ÇÇ„Çì„Å†„ÅÑ„Å´„Åì„Åü„Åà„Çã</p>
                      </div>
                    </button>
                  </div>
                </div>
              </div>
            );
          }

          if (mode === 'study') {
            const current = vocabulary[currentIndex];
            
            return (
              <div className="min-h-screen bg-gradient-to-br from-blue-50 to-indigo-100 p-4">
                <div className="max-w-3xl mx-auto">
                  <div className="mb-4">
                    <button
                      onClick={() => setMode('menu')}
                      className="px-4 py-2 bg-white rounded-lg shadow hover:shadow-md transition-all"
                    >
                      ‚Üê „É°„Éã„É•„Éº„Å´„ÇÇ„Å©„Çã
                    </button>
                  </div>

                  <div className="bg-white rounded-2xl shadow-lg p-8">
                    <div className="text-center mb-6">
                      <div className="flex justify-between items-center mb-4">
                        <span className="text-sm text-gray-600">„Åå„Åè„Åó„ÇÖ„ÅÜ„É¢„Éº„Éâ</span>
                        <span className="text-sm font-bold text-indigo-600">
                          {currentIndex + 1} / {vocabulary.length}
                        </span>
                      </div>
                      <div className="w-full bg-gray-200 rounded-full h-2 mb-6">
                        <div
                          className="bg-indigo-600 h-2 rounded-full transition-all"
                          style={{width: ((currentIndex + 1) / vocabulary.length * 100) + '%'}}
                        />
                      </div>
                    </div>

                    <div className="text-center mb-8">
                      <h2 className="text-6xl font-bold text-indigo-600 mb-8">{current.kanji}</h2>
                      
                      <div className="bg-blue-50 p-6 rounded-xl mb-4">
                        <p className="text-gray-600 text-sm mb-2">„Çà„Åø„Åã„Åü</p>
                        <p className="text-3xl font-bold text-gray-800">{current.reading}</p>
                      </div>

                      <div className="bg-green-50 p-6 rounded-xl mb-4">
                        <p className="text-gray-600 text-sm mb-2">English</p>
                        <p className="text-xl text-gray-800">{current.meaning}</p>
                      </div>

                      <div className="bg-purple-50 p-6 rounded-xl">
                        <p className="text-gray-600 text-sm mb-2">Ti·∫øng Vi·ªát</p>
                        <p className="text-xl text-gray-800">{current.vietnamese}</p>
                      </div>
                    </div>

                    <div className="flex gap-4">
                      <button
                        onClick={() => currentIndex > 0 && setCurrentIndex(currentIndex - 1)}
                        disabled={currentIndex === 0}
                        className={'flex-1 py-3 rounded-lg font-bold transition-all ' + (currentIndex === 0 ? 'bg-gray-200 text-gray-400 cursor-not-allowed' : 'bg-indigo-600 text-white hover:bg-indigo-700')}
                      >
                        ‚Üê „Åæ„Åà„Å∏
                      </button>
                      
                      <button
                        onClick={() => currentIndex < vocabulary.length - 1 && setCurrentIndex(currentIndex + 1)}
                        disabled={currentIndex === vocabulary.length - 1}
                        className={'flex-1 py-3 rounded-lg font-bold transition-all ' + (currentIndex === vocabulary.length - 1 ? 'bg-gray-200 text-gray-400 cursor-not-allowed' : 'bg-indigo-600 text-white hover:bg-indigo-700')}
                      >
                        „Å§„Åé„Å∏ ‚Üí
                      </button>
                    </div>
                  </div>
                </div>
              </div>
            );
          }

          if (quizCompleted) {
            const percentage = Math.round((score / vocabulary.length) * 100);
            
            return (
              <div className="min-h-screen bg-gradient-to-br from-blue-50 to-indigo-100 p-4">
                <div className="max-w-2xl mx-auto bg-white rounded-2xl shadow-lg p-8">
                  <div className="text-center">
                    <div className="text-8xl mb-4">üèÜ</div>
                    <h2 className="text-3xl font-bold mb-4 text-gray-800">„ÇØ„Ç§„Ç∫„Åã„Çì„Çä„Çá„ÅÜÔºÅ</h2>
                    <div className="mb-6">
                      <p className="text-6xl font-bold text-indigo-600 mb-2">
                        {score}/{vocabulary.length}
                      </p>
                      <p className="text-2xl text-gray-600">„Åõ„ÅÑ„Åã„ÅÑ„Çä„Å§: {percentage}%</p>
                      {percentage >= 90 && <p className="text-lg text-green-600 mt-2">„Åô„Åî„ÅÑÔºÅ„Çà„Åè„Åß„Åç„Åæ„Åó„ÅüÔºÅüéâ</p>}
                      {percentage >= 70 && percentage < 90 && <p className="text-lg text-blue-600 mt-2">„Çà„Åè„Åå„Çì„Å∞„Çä„Åæ„Åó„ÅüÔºÅüëè</p>}
                      {percentage < 70 && <p className="text-lg text-orange-600 mt-2">„ÇÇ„ÅÜ„ÅÑ„Å°„Å©„Åå„Çì„Å∞„Çç„ÅÜÔºÅüí™</p>}
                    </div>

                    {wrongAnswers.length > 0 && (
                      <div className="mb-6 p-4 bg-red-50 rounded-lg max-h-96 overflow-y-auto">
                        <h3 className="font-bold mb-2 text-red-800">„Åæ„Å°„Åå„Åà„Åü„ÇÇ„Çì„Å†„ÅÑ</h3>
                        <div className="space-y-2">
                          {wrongAnswers.map((index) => (
                            <div key={index} className="text-left p-3 bg-white rounded">
                              <div className="font-bold text-indigo-600 text-xl mb-1">{vocabulary[index].kanji}</div>
                              <div className="text-gray-700">„Çà„Åø„Åã„Åü: {vocabulary[index].reading}</div>
                              <div className="text-sm text-gray-600">{vocabulary[index].vietnamese}</div>
                            </div>
                          ))}
                        </div>
                      </div>
                    )}

                    <div className="flex gap-4 justify-center">
                      <button
                        onClick={() => {
                          setCurrentIndex(0);
                          setSelectedAnswer(null);
                          setShowResult(false);
                          setScore(0);
                          setQuizCompleted(false);
                          setWrongAnswers([]);
                        }}
                        className="px-6 py-3 bg-indigo-600 text-white rounded-lg hover:bg-indigo-700"
                      >
                        üîÑ „ÇÇ„ÅÜ„ÅÑ„Å°„Å©
                      </button>
                      <button
                        onClick={() => setMode('menu')}
                        className="px-6 py-3 bg-gray-600 text-white rounded-lg hover:bg-gray-700"
                      >
                        „É°„Éã„É•„Éº„Å∏
                      </button>
                    </div>
                  </div>
                </div>
              </div>
            );
          }

          const current = vocabulary[currentIndex];
          const options = quizOptions[currentIndex];
          const isCorrect = selectedAnswer === current.reading;

          return (
            <div className="min-h-screen bg-gradient-to-br from-blue-50 to-indigo-100 p-4">
              <div className="max-w-3xl mx-auto">
                <div className="mb-4">
                  <button
                    onClick={() => setMode('menu')}
                    className="px-4 py-2 bg-white rounded-lg shadow hover:shadow-md transition-all"
                  >
                    ‚Üê „É°„Éã„É•„Éº„Å´„ÇÇ„Å©„Çã
                  </button>
                </div>

                <div className="bg-white rounded-2xl shadow-lg p-8">
                  <div className="mb-6">
                    <div className="flex justify-between items-center mb-4">
                      <span className="text-sm text-gray-600">„ÇØ„Ç§„Ç∫„É¢„Éº„Éâ</span>
                      <span className="text-sm font-bold text-indigo-600">
                        „ÇÇ„Çì„Å†„ÅÑ {currentIndex + 1} / {vocabulary.length}
                      </span>
                    </div>
                    <div className="w-full bg-gray-200 rounded-full h-2">
                      <div
                        className="bg-indigo-600 h-2 rounded-full transition-all"
                        style={{width: ((currentIndex + 1) / vocabulary.length * 100) + '%'}}
                      />
                    </div>
                  </div>

                  <div className="text-center mb-8">
                    <h2 className="text-7xl font-bold text-indigo-600 mb-6">{current.kanji}</h2>
                    <p className="text-xl text-gray-600">„Åì„ÅÆ„Çà„Åø„Åã„Åü„ÅØ„Å™„Çì„Åß„Åô„ÅãÔºü</p>
                  </div>

                  <div className="space-y-3 mb-6">
                    {options.map((option, index) => (
                      <button
                        key={index}
                        onClick={() => !showResult && handleQuizAnswer(option)}
                        disabled={showResult}
                        className={'w-full p-4 text-left rounded-lg border-2 transition-all ' + (
                          showResult
                            ? option === current.reading
                              ? 'bg-green-100 border-green-500'
                              : selectedAnswer === option
                              ? 'bg-red-100 border-red-500'
                              : 'bg-gray-50 border-gray-200'
                            : selectedAnswer === option
                            ? 'bg-indigo-100 border-indigo-500'
                            : 'bg-white border-gray-300 hover:border-indigo-300'
                        )}
                      >
                        <div className="flex items-center gap-3">
                          <span className="flex-shrink-0 w-8 h-8 rounded-full bg-gray-200 flex items-center justify-center font-bold">
                            {index + 1}
                          </span>
                          <span className="text-xl">{option}</span>
                          {showResult && option === current.reading && (
                            <span className="ml-auto text-2xl">‚úì</span>
                          )}
                          {showResult && selectedAnswer === option && option !== current.reading && (
                            <span className="ml-auto text-2xl">‚úó</span>
                          )}
                        </div>
                      </button>
                    ))}
                  </div>

                  {showResult && (
                    <div className={'p-4 rounded-lg mb-6 ' + (isCorrect ? 'bg-green-50' : 'bg-red-50')}>
                      <p className="font-bold mb-2 text-lg">
                        {isCorrect ? '‚úì „Åõ„ÅÑ„Åã„ÅÑÔºÅ' : '‚úó „Åæ„Å°„Åå„ÅÑ'}
                      </p>
                      <div className="text-gray-700">
                        <p className="mb-1">English: {current.meaning}</p>
                        <p>Ti·∫øng Vi·ªát: {current.vietnamese}</p>
                      </div>
                    </div>
                  )}

                  {showResult && (
                    <button
                      onClick={handleQuizNext}
                      className="w-full py-3 bg-indigo-600 text-white rounded-lg font-bold hover:bg-indigo-700"
                    >
                      {currentIndex < vocabulary.length - 1 ? '„Å§„Åé„ÅÆ„ÇÇ„Çì„Å†„ÅÑ„Å∏ ‚Üí' : '„Åë„Å£„Åã„Çí„Åø„Çã'}
                    </button>
                  )}
                </div>
              </div>
            </div>
          );
        }

        ReactDOM.render(<KanjiApp />, document.getElementById('root'));
    </script>
</body>
</html>